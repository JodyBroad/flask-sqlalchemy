{% extends "layout.html" %}
{% block body_content %}

<div class="container-cart">
  <img class="bg obj-fit-cover" src="{{url_for('static',filename='images/three_pots_succulents.jpg')}}" alt="three small succulent plants in white ceramic pots">
  <h1>Shopping Cart</h1>

</div>

<div class="container-fluid bg-1 text-center">

    <h2> You just added to your cart: </h2>

        <div class="table-responsive">
            <table class="table">

                <tbody>
                    <tr class="table-success">
                      <td hidden> Plant id: {{ attributeObject.id }} </td>
                      <th scope="row"><a href="#">{{ attributeObject.plant_nickname}}</a></th>
                      <td>{{ attributeObject.species}}</td>
                      <td>Price for this is £{{ attributeObject.price }} per item</td>
                      <td>Sub-total is £{{ attributeObject.sub_total }}</td>
                      <td>Quantity added to cart {{ attributeObject.quantity }}</td>
                    </tr>

                </tbody>

            </table>
        </div>
</div>


<br>
<br>

<div class="container-fluid bg-1 text-center">
    <h3>What good taste you have! Currently in your cart:</h3>

        <div class="table-responsive table-striped">
            <table class="table">
                <thead>
                    <tr>
                    {% for header in headings %}
                        <th scope="col">{{ header }}</th>
                    {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    <tr>
                    {% for value in cart_contents %}
                       <td hidden> Plant id: {{ value.id }} </td>
                      <th scope="row"><a href="#">{{ value.plant_nickname }}</a></th>
                      <td>{{ value.species}}</td>
                      <td>£{{ value.price }}</td>
                      <td>{{ value.quantity }}</td>
                      <td>£{{ (value.sub_total) }}</td>
                    </tr>

                    {% endfor %}
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>Total price: </td>
                        <td> £{{ cart_contents|sum('sub_total')}}</td>
                    </tr>

                </tbody>
            </table>
        </div>




</div>

    <button class="btn1"><a href="{{ url_for('clear_cart') }}" style="color:#0A451B">Empty Cart</a></button>

{% endblock %}